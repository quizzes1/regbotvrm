#include <stdio.h>
#include <locale.h>
#include <string.h>

int money;
int key;
char ext[10];

// Функция для ожидания нажатия клавиши Enter
void waitForEnter() {
    printf("Нажмите Enter, чтобы начать заново...\n");
    while(getchar() != '\n'); // Ждём Enter
    getchar(); // Получаем сам Enter
}

int main() {
    setlocale(LC_ALL, "ru_UA.UTF-8");
    
    while (1) { // Цикл перезапуска игры
        puts("Bлюблённый <3 волк уже не хищник X_X");
        puts("Санкт-Петербург. Город студентов, культуры, европейской архитектуры и бесконечного кутежа. Сложно найти более карикатурное описание СПб, но такой же карикатурный сегодня наш главный герой Сережа.\n Сережа - студент-программист, любит играть в компьютерные игры, смотреть аниме и читать мангу.\n К сожалению, с девушками у нашего героя, ничего не получается... Наша задача сегодня - помочь ему изменить себя и свою жизнь.");
        puts("\nОдним вечером, Сережа сидел на одном сайте знакомств и ему понравилась одна девочка. Он лайкнул ее анкету, и, как обычно не надеясь ни на что, пошел смотреть свое любимое аниме.\nКак вдруг, разразившись словно гром среди ясного неба, уведомление - вам ответили взаимностью и лайкнули вашу анкету! Шок! Сенсация!\n Сергей начал раздумывать - все ли будет хорошо? А вдруг за этой анкетой скрывается 40 летний пузатый мужчина-скуф?\n Что же делать?");
        
        int answer;
        puts("1 - Остаться дома и ничего не менять\n2 - Завести диалог и разузнать друг друга получше\n3 - Назначить встречу");
        scanf("%d", &answer);
        getchar(); // Для сброса новой строки после ввода
        switch (answer) {
            case 1:
                puts("Нерешительность и бездействие ни к чему не привели. Сережа так и остался одинок, а мертвая тишина в его квартире и сердце разбавлялись лишь проливным Питерским дождем...");
                waitForEnter();
                continue;
            case 2:
                puts("Странное и неожиданное чувство охватило нашего стеснительного героя. Он рискнул аккуратно начать диалог. Получив положительную реакцию, Сергей почувствовал неожиданный подъем духа, стеснительность ушла на дальний план и сердце начало составлять целые поэмы.");
                break;
            case 3:
                puts("Лучше всегда быть самим собой. Сергей засмущал даму и выставил себя недалеким человеком, его слова не соответствовали внешности.");
                waitForEnter();
                continue;
        }

        puts("Очевидно, после продолжительного общения, наша новоиспеченная пара захотела встретиться. Назначив свидание в популярной кофейне Санкт-Петербурга, началось самое сложное испытание для нашего героя...\nПодойдя к давно запылившемуся зеркалу и быстро протерев его, Сергей в ужасе понял, что не готов к очной встрече.");
        puts("Сережа решил начать с запаха\n1 - Понюхать себя\n2 - Залезть сразу в душ\n3 - Воспользоваться дезодорантом и духами");
        scanf("%d", &answer);
        getchar();
        switch (answer) {
            case 1:
                puts("Сережа осторожно приблизил нос к своей рубашке и тут же понял - опасно. Очень опасно. Сережа решил, что свидание пройдет в формате видеозвонка...");
                waitForEnter();
                continue;
            case 2:
                puts("Отличное решение! Сережа схватил свое самое ароматное мыло и устроил себе мини-спа. Теперь он готов сразить даму ароматом чистоты.");
                break;
            case 3:
                puts("Ой-ой! Сергей решил обойтись духами, но смесь запахов создала такой «ароматный коктейль», что соседские кошки разбежались. Здравствуй, одиночество...");
                waitForEnter();
                continue;
        }

        // Новая ситуация 1: Внешний вид
        puts("\nСергей решил, что внешность тоже имеет значение. Он открыл шкаф и погрузился в пучину своих старых футболок и джинсов.");
        puts("Что выбрать?\n1 - Футболка с принтом любимого аниме и шорты\n2 - Официальный костюм, который носили на выпускной\n3 - Что-то нейтральное, простое и удобное");
        scanf("%d", &answer);
        getchar();
        switch (answer) {
            case 1:
                puts("Хорошая попытка, но дама не оценила футболку с гигантским Наруто. Сергей потерял шанс на второе свидание...");
                waitForEnter();
                continue;
            case 2:
                puts("Чрезмерная официальность привела к тому, что Сергей выглядел так, будто собирался на собеседование в крупную компанию. Неловкость лишь усилилась...");
                waitForEnter();
                continue;
            case 3:
                puts("Идеально! Обычная рубашка и джинсы, удобные кеды — Сергей выглядел уверенно, но не нарочито. Дама даже отметила, что ему идет.");
                break;
        }

        puts("\nПо дороге в кафе, Сергей решил проверить свой кошелек. О Боже! Денег нет! Что делать?");
        puts("\n1 - Позвонить маме\n2 - Занять у друга\n3 - Позвонить в университет и попросить заранее дать ");
        scanf("%d", &answer);
        getchar();
        switch (answer) {
            case 1:
                puts("Сергею стало стыдно и неловко, что он уже большой мальчик, а деньги у мамы выпрашивает. Не в силах перенести такое оскорбление, он вынужден отменить свидание и пойти домой...");
                waitForEnter();
                continue;
            case 2:
                puts("Сергей забыл, что все его друзья - тоже студенты, поэтому денег ни у кого нет. К сожалению, Сергей был вынужден убежать с места свидания, чтобы не платить за заказ в ресторане...");
                waitForEnter();
                continue;
            case 3:
                puts("Сергей был достаточно настойчив и смог забрать свою стипендию на 3 дня раньше, и теперь с полной уверенностью пошел в ресторан. На его счету теперь 1337 рублей!");
                money = 1337;
                break;
        }

        // Новая ситуация 2: Общение на свидании
        puts("\nСергей и дама встретились в кафе. Сергей волнуется, думая, что сказать первым. О чем поговорить?");
        puts("1 - О любимом аниме\n2 - О погоде и природе\n3 - О ее увлечениях и интересах");
        scanf("%d", &answer);
        getchar();
        switch (answer) {
            case 1:
                puts("Сергей начал рассказывать о своем любимом аниме с таким энтузиазмом, что дама запуталась в сюжетах и чуть не уснула...");
                waitForEnter();
                continue;
            case 2:
                puts("Обсуждение погоды застряло на теме дождей в Питере. Все, как и всегда, мрачно и грустно...");
                waitForEnter();
                continue;
            case 3:
                puts("Сергей проявил интерес к ее хобби, и беседа разгорелась как огонь в костре. Девушка была приятно удивлена его вниманием.");
                break;
        }

        puts("\nВ процессе беседы, девушка рассказала, что она географ и очень любит флаги разных стран. Дама спросила, какой любимый флаг Сергея? ");
        puts("1 - Промолчать\n2 - Рассказать о своем любимом флаге\n");
        scanf("%d", &answer);
        getchar();
        switch (answer) {
            case 1:
                puts("Неловкая пауза, но девушка поняла, что Сергей плохо разбирается в флагах и быстро сменила тему.");
                break;
            case 2:
                puts("Сергей как программист");
                //print flag
                break;
        }


        // Новая ситуация 3: Заказ в кафе
        puts("\nНастало время сделать заказ. Сергей не знал, что выбрать в меню. Он решил следовать своим инстинктам.");
        puts("1 - Заказать самый дорогой напиток\n2 - Заказать воду и сэндвич\n3 - Попросить то, что порекомендует официант");
        scanf("%d", &answer);
        getchar();
        switch (answer) {
            case 1:
                puts("Сергей заказал роскошный кофе за ползарплаты студента. Чек испугал его настолько, что с трудом удалось сохранить улыбку...");
                waitForEnter();
                continue;
            case 2:
                puts("Вода и сэндвич оказались слишком простым выбором. Девушка ожидала чего-то более интересного...");
                waitForEnter();
                continue;
            case 3:
                puts("Рекомендация официанта оказалась точной! Сергей наслаждался вкусным кофе, и девушка была впечатлена его непринужденным подходом.");
                break;
        }

        // Новая ситуация 4: Прощание
        puts("\nВечер подошел к концу. Пора прощаться. Как Сергей завершит свидание?");
        puts("1 - Помахать рукой и убежать\n2 - Попробовать поцеловать на прощание\n3 - Поблагодарить за встречу и предложить встретиться снова");
        scanf("%d", &answer);
        getchar();
        switch (answer) {
            case 1:
                puts("Сергей так быстро убежал, что оставил свою кофту в кафе. Дама даже не успела ответить...");
                waitForEnter();
                continue;
            case 2:
                puts("Неловкая попытка поцеловать вызвала смущение у обоих. В следующий раз Сергей будет осторожнее...");
                waitForEnter();
                continue;
            case 3:
                puts("Идеальный финал! Сергей поблагодарил за встречу, улыбнулся и предложил встретиться снова. Это было приятно и ненавязчиво.");
                break;
        }

        puts("\nТак закончился этот важный день для Сергея. А что будет дальше — покажет время. Возможно, он даже найдет ту самую, а может быть, это просто начало новой интересной главы в его жизни.");
        scanf("%s", &ext);
        if (strcmp(ext, "\n") == 1){
            break;
        }
        // Выход из цикла, если игра завершена успешно
    }
    
    return 0;
}
